{"version":3,"sources":["webpack://@reflar/twofactor/webpack/bootstrap","webpack://@reflar/twofactor/external \"flarum.core.compat['app']\"","webpack://@reflar/twofactor/external \"flarum.core.compat['components/Button']\"","webpack://@reflar/twofactor/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@reflar/twofactor/external \"flarum.core.compat['components/Alert']\"","webpack://@reflar/twofactor/external \"flarum.core.compat['components/Modal']\"","webpack://@reflar/twofactor/external \"flarum.core.compat['extend']\"","webpack://@reflar/twofactor/external \"flarum.core.compat['components/Switch']\"","webpack://@reflar/twofactor/external \"flarum.core.compat['components/LogInModal']\"","webpack://@reflar/twofactor/external \"flarum.core.compat['utils/ItemList']\"","webpack://@reflar/twofactor/external \"flarum.core.compat['helpers/listItems']\"","webpack://@reflar/twofactor/external \"flarum.core.compat['components/Dropdown']\"","webpack://@reflar/twofactor/external \"flarum.core.compat['Model']\"","webpack://@reflar/twofactor/external \"flarum.core.compat['components/SettingsPage']\"","webpack://@reflar/twofactor/external \"flarum.core.compat['models/User']\"","webpack://@reflar/twofactor/external \"flarum.core.compat['components/LoadingIndicator']\"","webpack://@reflar/twofactor/external \"flarum.core.compat['helpers/icon']\"","webpack://@reflar/twofactor/./src/forum/components/LogInFactorModal.js","webpack://@reflar/twofactor/./src/forum/components/RecoveryModal.js","webpack://@reflar/twofactor/./src/forum/components/PhoneModal.js","webpack://@reflar/twofactor/./src/forum/components/Countries.js","webpack://@reflar/twofactor/./src/forum/components/AuthyModal.js","webpack://@reflar/twofactor/./src/forum/components/TwoFactorModal.js","webpack://@reflar/twofactor/./src/forum/components/OneTouchModal.js","webpack://@reflar/twofactor/./src/forum/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","flarum","core","compat","_inheritsLoose","subClass","superClass","constructor","__proto__","__webpack_exports__","LogInFactorModal","init","_Modal","this","identification","props","data","password","remember","pageId","twoFactorCode","prop","$","getScript","mask","placeholder","className","title","app","translator","trans","content","user","type","style","id","oninput","withAttr","Button_default","a","loading","onsubmit","e","_this","preventDefault","toUpperCase","request","url","forum","attribute","method","twofactor","then","response","userId","alert","Alert","dismissible","children","redraw","window","location","reload","Modal","RecoveryModal","recoveries","split","map","recovery","isDismissible","modal","close","PhoneModal","phone","enabled","session","twofa_enabled","country","mcode","countryItems","items","ItemList","add","Dropdown","component","buttonClassName","menuClassName","label","active","Button","icon","onclick","_this2","show","TwoFactorModal","attributes","authy_enabled","AuthyModal","listItems","toArray","step","replace","errorHandler","onerror","_this3","code","alerts","successAlert","twillio_enabled","countryCode","secret","startComputation","google2fa_secret","endComputation","src","decodeURIComponent","Switch","state","onchange","OneTouchModal","verified","clock","setInterval","shouldCheck","LoadingIndicator","length","hide","clearInterval","initializers","User","Model","LogInModal","makeid","text","charAt","Math","floor","random","failure","parseInt","status","extend","SettingsPage"],"mappings":"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","file":"forum.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 17);\n","module.exports = flarum.core.compat['app'];","module.exports = flarum.core.compat['components/Button'];","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","module.exports = flarum.core.compat['components/Alert'];","module.exports = flarum.core.compat['components/Modal'];","module.exports = flarum.core.compat['extend'];","module.exports = flarum.core.compat['components/Switch'];","module.exports = flarum.core.compat['components/LogInModal'];","module.exports = flarum.core.compat['utils/ItemList'];","module.exports = flarum.core.compat['helpers/listItems'];","module.exports = flarum.core.compat['components/Dropdown'];","module.exports = flarum.core.compat['Model'];","module.exports = flarum.core.compat['components/SettingsPage'];","module.exports = flarum.core.compat['models/User'];","module.exports = flarum.core.compat['components/LoadingIndicator'];","module.exports = flarum.core.compat['helpers/icon'];","import app from 'flarum/app';\r\nimport Alert from 'flarum/components/Alert';\r\nimport { extend } from 'flarum/extend';\r\nimport Modal from 'flarum/components/Modal';\r\nimport Button from 'flarum/components/Button';\r\n\r\nexport default class LogInFactorModal extends Modal {\r\n  init() {\r\n    super.init();\r\n    this.identification = this.props.data.identification;\r\n\r\n    this.password = this.props.data.password;\r\n\r\n    this.remember = this.props.data.remember;\r\n\r\n    this.pageId = this.props.data.pageId;\r\n\r\n    this.twoFactorCode = m.prop('');\r\n\r\n    $.getScript('https://cdn.rawgit.com/igorescobar/jQuery-Mask-Plugin/master/src/jquery.mask.js', function() {\r\n      $('#code').mask('AAA-AAA', {\r\n        placeholder: '   -   ',\r\n      });\r\n    });\r\n  }\r\n\r\n  className() {\r\n    return 'TwoFactorModal Modal--small';\r\n  }\r\n\r\n  title() {\r\n    return app.translator.trans('reflar-twofactor.forum.modal.login_title');\r\n  }\r\n\r\n  content(user) {\r\n    return (\r\n      <div className=\"Modal-body\">\r\n        {app.translator.trans('reflar-twofactor.forum.modal.2fa_help')}\r\n        <div className=\"Form\">\r\n          <div className=\"Form-group\">\r\n            <div className=\"TwoFactor-input\">\r\n              <input\r\n                type=\"text\"\r\n                style=\"text-transform:uppercase\"\r\n                id=\"code\"\r\n                oninput={m.withAttr('value', this.twoFactorCode)}\r\n                className=\"FormControl\"\r\n                placeholder={app.translator.trans('reflar-twofactor.forum.modal.placeholder')}\r\n              />\r\n            </div>\r\n            <Button className=\"Button Button--primary TwoFactor-button\" loading={this.loading} type=\"submit\">\r\n              {app.translator.trans('reflar-twofactor.forum.modal.button')}\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  onsubmit(e) {\r\n    e.preventDefault();\r\n\r\n    if (this.loading) return;\r\n\r\n    this.loading = true;\r\n\r\n    this.twoFactorCode(this.twoFactorCode().toUpperCase());\r\n\r\n    app\r\n      .request({\r\n        url: app.forum.attribute('apiUrl') + '/twofactor/login',\r\n        method: 'POST',\r\n        data: {\r\n          identification: this.identification,\r\n          password: this.password,\r\n          remember: this.remember,\r\n          twofactor: this.twoFactorCode(),\r\n          pageId: this.pageId,\r\n        },\r\n      })\r\n      .then(response => {\r\n        if (response.userId === 'IncorrectCode') {\r\n          this.alert = new Alert({\r\n            type: 'error',\r\n            dismissible: false,\r\n            children: app.translator.trans('reflar-twofactor.forum.incorrect_2fa'),\r\n          });\r\n          this.loading = false;\r\n          m.redraw();\r\n        } else {\r\n          window.location.reload();\r\n        }\r\n      });\r\n  }\r\n}\r\n","import app from 'flarum/app';\r\nimport { extend } from 'flarum/extend';\r\nimport Modal from 'flarum/components/Modal';\r\nimport Button from 'flarum/components/Button';\r\n\r\nexport default class RecoveryModal extends Modal {\r\n  init() {\r\n    super.init();\r\n\r\n    this.recoveries = this.props.data.split(',');\r\n  }\r\n\r\n  className() {\r\n    return 'TwoFactorModal Modal--small';\r\n  }\r\n\r\n  title() {\r\n    return app.translator.trans('reflar-twofactor.forum.modal.twofactor_title');\r\n  }\r\n\r\n  content(user) {\r\n    return (\r\n      <div className=\"Modal-body\">\r\n        <div className=\"Form\">\r\n          <div className=\"Form-group\">\r\n            <div className=\"TwoFactor-codes\">\r\n              <h1>{app.translator.trans('reflar-twofactor.forum.modal.recov_header')}</h1>\r\n              <h3>{app.translator.trans('reflar-twofactor.forum.modal.recov_help1')}</h3>\r\n              <h4>{app.translator.trans('reflar-twofactor.forum.modal.recov_help2')}</h4>\r\n              {this.recoveries.map(recovery => {\r\n                return <br />, <h3>{recovery}</h3>;\r\n              })}\r\n            </div>\r\n            <Button className=\"Button Button--primary TwoFactor-button\" loading={this.loading} type=\"submit\">\r\n              {app.translator.trans('reflar-twofactor.forum.modal.close')}\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  isDismissible() {\r\n    return false;\r\n  }\r\n\r\n  onsubmit(e) {\r\n    app.modal.close();\r\n  }\r\n}\r\n","import app from 'flarum/app';\r\nimport Alert from 'flarum/components/Alert';\r\nimport { extend } from 'flarum/extend';\r\nimport ItemList from 'flarum/utils/ItemList';\r\nimport listItems from 'flarum/helpers/listItems';\r\nimport Modal from 'flarum/components/Modal';\r\nimport Dropdown from 'flarum/components/Dropdown';\r\nimport Button from 'flarum/components/Button';\r\nimport AuthyModal from './AuthyModal';\r\nimport TwoFactorModal from './TwoFactorModal';\r\nimport RecoveryModal from './RecoveryModal';\r\nimport Countries from './Countries';\r\n\r\nexport default class PhoneModal extends Modal {\r\n  init() {\r\n    super.init();\r\n\r\n    this.twoFactorCode = m.prop('');\r\n\r\n    this.phone = m.prop('');\r\n\r\n    this.enabled = m.prop(app.session.user.twofa_enabled());\r\n\r\n    $.getScript('https://cdn.rawgit.com/igorescobar/jQuery-Mask-Plugin/master/src/jquery.mask.js', function() {\r\n      $('#phone').mask('(000) 000-00000');\r\n      $('#code').mask('AAA-AAA', { placeholder: '   -   ' });\r\n    });\r\n\r\n    this.country = {\r\n      name: 'United States of America',\r\n      mcode: '+1',\r\n    };\r\n  }\r\n\r\n  className() {\r\n    return 'TwoFactorModal Modal--small';\r\n  }\r\n\r\n  title() {\r\n    return app.translator.trans('reflar-twofactor.forum.modal.twofactor_title');\r\n  }\r\n\r\n  countryItems() {\r\n    const items = new ItemList();\r\n\r\n    items.add(\r\n      'sort',\r\n      Dropdown.component({\r\n        buttonClassName: 'Button FormControl',\r\n        menuClassName: 'Country-Dropdown-actual',\r\n        label: this.country.name,\r\n        children: Countries().map(country => {\r\n          const active = this.country === country;\r\n\r\n          return Button.component({\r\n            children: country.name,\r\n            icon: active ? 'check' : true,\r\n            onclick: () => {\r\n              this.country = country;\r\n            },\r\n            active: active,\r\n          });\r\n        }),\r\n      })\r\n    );\r\n\r\n    return items;\r\n  }\r\n\r\n  content(user) {\r\n    return (\r\n      <div className=\"Modal-body\">\r\n        <div className=\"Form\">\r\n          <div className=\"Form-group\">\r\n            <h2 style=\"text-align: center\">{app.translator.trans('reflar-twofactor.forum.modal.phone_heading')}</h2>\r\n            {this.enabled() !== 3\r\n              ? Button.component({\r\n                  className: 'Button Button--primary Switch-button',\r\n                  onclick: () => {\r\n                    app.modal.close();\r\n                    app.modal.show(new TwoFactorModal(this.user));\r\n                  },\r\n                  children: app.translator.trans('reflar-twofactor.forum.modal.stTOTP'),\r\n                })\r\n              : ''}\r\n            {app.forum.data.attributes.authy_enabled === '1'\r\n              ? Button.component({\r\n                  className: 'Button Button--primary Switch-button',\r\n                  onclick: () => {\r\n                    app.modal.close();\r\n                    app.modal.show(new AuthyModal());\r\n                  },\r\n                  children: app.translator.trans('reflar-twofactor.forum.modal.stAuthy'),\r\n                })\r\n              : ''}\r\n            <div style=\"text-align: center\" className=\"helpText Submit-Button\">\r\n              {this.enabled() !== 3\r\n                ? app.translator.trans('reflar-twofactor.forum.modal.helpPhone')\r\n                : app.translator.trans('reflar-twofactor.forum.modal.helpPhone2')}\r\n            </div>\r\n          </div>\r\n          {this.enabled() !== 3 ? (\r\n            <div className=\"Form-group\">\r\n              <ul className=\"Country-dropdown\">{listItems(this.countryItems().toArray())}</ul>\r\n              <input type=\"text\" id=\"phone\" oninput={m.withAttr('value', this.phone)} className=\"FormControl Phone-Input\" />\r\n              {Button.component({\r\n                className: 'Button Button--primary',\r\n                onclick: () => {\r\n                  app.request({\r\n                    url: app.forum.attribute('apiUrl') + '/twofactor/verifycode',\r\n                    method: 'POST',\r\n                    data: {\r\n                      step: 3,\r\n                      phone: this.country.mcode + this.phone().replace(/[- )(]/g, ''),\r\n                    },\r\n                  });\r\n                  this.enabled(3);\r\n                  m.redraw();\r\n                },\r\n                children: app.translator.trans('reflar-twofactor.forum.modal.submitPhone'),\r\n              })}\r\n            </div>\r\n          ) : (\r\n            <div>\r\n              {Button.component({\r\n                className: 'Button Button--primary TwoFactor-button',\r\n                loading: this.loading,\r\n                onclick: () => {\r\n                  app\r\n                    .request({\r\n                      url: app.forum.attribute('apiUrl') + '/twofactor/verifycode',\r\n                      method: 'POST',\r\n                      data: {\r\n                        step: 1,\r\n                      },\r\n                      errorHandler: this.onerror.bind(this),\r\n                    })\r\n                    .then(() => {\r\n                      app.modal.close();\r\n                      app.modal.show(new TwoFactorModal(this.user));\r\n                    });\r\n\r\n                  this.loading = false;\r\n                },\r\n                children: app.translator.trans('reflar-twofactor.forum.modal.back'),\r\n              })}\r\n              <input\r\n                type=\"text\"\r\n                id=\"code\"\r\n                style=\"text-transform: uppercase;\"\r\n                oninput={m.withAttr('value', this.twoFactorCode)}\r\n                className=\"FormControl\"\r\n              />\r\n              {Button.component({\r\n                className: 'Button Button--primary TwoFactor-button',\r\n                loading: this.loading,\r\n                type: 'submit',\r\n                children: app.translator.trans('reflar-twofactor.forum.modal.button'),\r\n              })}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  onsubmit(e) {\r\n    e.preventDefault();\r\n\r\n    if (this.loading) return;\r\n\r\n    this.loading = true;\r\n    app\r\n      .request({\r\n        url: app.forum.attribute('apiUrl') + '/twofactor/verifycode',\r\n        method: 'POST',\r\n        data: {\r\n          step: 4,\r\n          code: this.twoFactorCode(),\r\n        },\r\n      })\r\n      .then(response => {\r\n        const data = response.data.id;\r\n        if (data === 'IncorrectCode') {\r\n          this.alert = new Alert({\r\n            type: 'error',\r\n            children: app.translator.trans('reflar-twofactor.forum.incorrect_2fa'),\r\n          });\r\n          m.redraw();\r\n        } else {\r\n          app.alerts.show(\r\n            (this.successAlert = new Alert({\r\n              type: 'success',\r\n              children: app.translator.trans('reflar-twofactor.forum.2fa_enabled'),\r\n            }))\r\n          );\r\n          app.modal.show(new RecoveryModal({ data }));\r\n        }\r\n      });\r\n\r\n    this.loading = false;\r\n  }\r\n}\r\n","export default function LogInFactorModal() {\r\n  return [\r\n    { name: 'United States of America', mcode: '+1' },\r\n    { name: 'United Kingdom', mcode: '+44' },\r\n    { name: 'Algeria', mcode: '+213' },\r\n    { name: 'Andorra', mcode: '+376' },\r\n    { name: 'Angola', mcode: '+244' },\r\n    { name: 'Anguilla', mcode: '+1264' },\r\n    { name: 'Antigua & Barbuda', mcode: '+1268' },\r\n    { name: 'Argentina', mcode: '+54' },\r\n    { name: 'Armenia', mcode: '+374' },\r\n    { name: 'Aruba', mcode: '+297' },\r\n    { name: 'Australia', mcode: '+61' },\r\n    { name: 'Austria', mcode: '+43' },\r\n    { name: 'Azerbaijan', mcode: '+994' },\r\n    { name: 'Bahamas', mcode: '+1242' },\r\n    { name: 'Bahrain', mcode: '+973' },\r\n    { name: 'Bangladesh', mcode: '+880' },\r\n    { name: 'Barbados', mcode: '+1246' },\r\n    { name: 'Belarus', mcode: '+375' },\r\n    { name: 'Belgium', mcode: '+32' },\r\n    { name: 'Belize', mcode: '+501' },\r\n    { name: 'Benin', mcode: '+229' },\r\n    { name: 'Bermuda', mcode: '+1441' },\r\n    { name: 'Bhutan', mcode: '+975' },\r\n    { name: 'Bolivia', mcode: '+591' },\r\n    { name: 'Bosnia Herzegovina', mcode: '+387' },\r\n    { name: 'Botswana', mcode: '+267' },\r\n    { name: 'Brazil', mcode: '+55' },\r\n    { name: 'Brunei', mcode: '+673' },\r\n    { name: 'Bulgaria', mcode: '+359' },\r\n    { name: 'Burkina Faso', mcode: '+226' },\r\n    { name: 'Burundi', mcode: '+257' },\r\n    { name: 'Cambodia', mcode: '+855' },\r\n    { name: 'Cameroon', mcode: '+237' },\r\n    { name: 'Canada', mcode: '+1' },\r\n    { name: 'Cape Verde Islands', mcode: '+238' },\r\n    { name: 'Cayman Islands', mcode: '+1345' },\r\n    { name: 'Central African Republic', mcode: '+236' },\r\n    { name: 'Chile', mcode: '+56' },\r\n    { name: 'China', mcode: '+86' },\r\n    { name: 'Colombia', mcode: '+57' },\r\n    { name: 'Comoros', mcode: '+269' },\r\n    { name: 'Congo', mcode: '+242' },\r\n    { name: 'Cook Islands', mcode: '+682' },\r\n    { name: 'Costa Rica', mcode: '+506' },\r\n    { name: 'Croatia', mcode: '+385' },\r\n    { name: 'Cuba', mcode: '+53' },\r\n    { name: 'Cyprus - North', mcode: '+90' },\r\n    { name: 'Cyprus - South', mcode: '+357' },\r\n    { name: 'Czech Republic', mcode: '+420' },\r\n    { name: 'Denmark', mcode: '+45' },\r\n    { name: 'Djibouti', mcode: '+253' },\r\n    { name: 'Dominica', mcode: '+1809' },\r\n    { name: 'Dominican Republic', mcode: '+1809' },\r\n    { name: 'Ecuador', mcode: '+593' },\r\n    { name: 'Egypt', mcode: '+20' },\r\n    { name: 'El Salvador', mcode: '+503' },\r\n    { name: 'Equatorial Guinea', mcode: '+240' },\r\n    { name: 'Eritrea', mcode: '+291' },\r\n    { name: 'Estonia', mcode: '+372' },\r\n    { name: 'Ethiopia', mcode: '+251' },\r\n    { name: 'Falkland Islands', mcode: '+500' },\r\n    { name: 'Faroe Islands', mcode: '+298' },\r\n    { name: 'Fiji', mcode: '+679' },\r\n    { name: 'Finland', mcode: '+358' },\r\n    { name: 'France', mcode: '+33' },\r\n    { name: 'French Guiana', mcode: '+594' },\r\n    { name: 'French Polynesia', mcode: '+689' },\r\n    { name: 'Gabon', mcode: '+241' },\r\n    { name: 'Gambia', mcode: '+220' },\r\n    { name: 'Georgia', mcode: '+7880' },\r\n    { name: 'Germany', mcode: '+49' },\r\n    { name: 'Ghana', mcode: '+233' },\r\n    { name: 'Gibraltar', mcode: '+350' },\r\n    { name: 'Greece', mcode: '+30' },\r\n    { name: 'Greenland', mcode: '+299' },\r\n    { name: 'Grenada', mcode: '+1473' },\r\n    { name: 'Guadeloupe', mcode: '+590' },\r\n    { name: 'Guam', mcode: '+671' },\r\n    { name: 'Guatemala', mcode: '+502' },\r\n    { name: 'Guinea', mcode: '+224' },\r\n    { name: 'Guinea - Bissau', mcode: '+245' },\r\n    { name: 'Guyana', mcode: '+592' },\r\n    { name: 'Haiti', mcode: '+509' },\r\n    { name: 'Honduras', mcode: '+504' },\r\n    { name: 'Hong Kong', mcode: '+852' },\r\n    { name: 'Hungary', mcode: '+36' },\r\n    { name: 'Iceland', mcode: '+354' },\r\n    { name: 'India', mcode: '+91' },\r\n    { name: 'Indonesia', mcode: '+62' },\r\n    { name: 'Iraq', mcode: '+964' },\r\n    { name: 'Iran', mcode: '+98' },\r\n    { name: 'Ireland', mcode: '+353' },\r\n    { name: 'Israel', mcode: '+972' },\r\n    { name: 'Italy', mcode: '+39' },\r\n    { name: 'Jamaica', mcode: '+1876' },\r\n    { name: 'Japan', mcode: '+81' },\r\n    { name: 'Jordan', mcode: '+962' },\r\n    { name: 'Kazakhstan', mcode: '+7' },\r\n    { name: 'Kenya', mcode: '+254' },\r\n    { name: 'Kiribati', mcode: '+686' },\r\n    { name: 'Korea - North', mcode: '+850' },\r\n    { name: 'Korea - South', mcode: '+82' },\r\n    { name: 'Kuwait', mcode: '+965' },\r\n    { name: 'Kyrgyzstan', mcode: '+996' },\r\n    { name: 'Laos', mcode: '+856' },\r\n    { name: 'Latvia', mcode: '+371' },\r\n    { name: 'Lebanon', mcode: '+961' },\r\n    { name: 'Lesotho', mcode: '+266' },\r\n    { name: 'Liberia', mcode: '+231' },\r\n    { name: 'Libya', mcode: '+218' },\r\n    { name: 'Liechtenstein', mcode: '+417' },\r\n    { name: 'Lithuania', mcode: '+370' },\r\n    { name: 'Luxembourg', mcode: '+352' },\r\n    { name: 'Macao', mcode: '+853' },\r\n    { name: 'Macedonia', mcode: '+389' },\r\n    { name: 'Madagascar', mcode: '+261' },\r\n    { name: 'Malawi', mcode: '+265' },\r\n    { name: 'Malaysia', mcode: '+60' },\r\n    { name: 'Maldives', mcode: '+960' },\r\n    { name: 'Mali', mcode: '+223' },\r\n    { name: 'Malta', mcode: '+356' },\r\n    { name: 'Marshall Islands', mcode: '+692' },\r\n    { name: 'Martinique', mcode: '+596' },\r\n    { name: 'Mauritania', mcode: '+222' },\r\n    { name: 'Mayotte', mcode: '+269' },\r\n    { name: 'Mexico', mcode: '+52' },\r\n    { name: 'Micronesia', mcode: '+691' },\r\n    { name: 'Moldova', mcode: '+373' },\r\n    { name: 'Monaco', mcode: '+377' },\r\n    { name: 'Mongolia', mcode: '+976' },\r\n    { name: 'Montserrat', mcode: '+1664' },\r\n    { name: 'Morocco', mcode: '+212' },\r\n    { name: 'Mozambique', mcode: '+258' },\r\n    { name: 'Myanmar', mcode: '+95' },\r\n    { name: 'Namibia', mcode: '+264' },\r\n    { name: 'Nauru', mcode: '+674' },\r\n    { name: 'Nepal', mcode: '+977' },\r\n    { name: 'Netherlands', mcode: '+31' },\r\n    { name: 'New Caledonia', mcode: '+687' },\r\n    { name: 'New Zealand', mcode: '+64' },\r\n    { name: 'Nicaragua', mcode: '+505' },\r\n    { name: 'Niger', mcode: '+227' },\r\n    { name: 'Nigeria', mcode: '+234' },\r\n    { name: 'Niue', mcode: '+683' },\r\n    { name: 'Norfolk Islands', mcode: '+672' },\r\n    { name: 'Northern Marianas', mcode: '+670' },\r\n    { name: 'Norway', mcode: '+47' },\r\n    { name: 'Oman', mcode: '+968' },\r\n    { name: 'Pakistan', mcode: '+92' },\r\n    { name: 'Palau', mcode: '+680' },\r\n    { name: 'Panama', mcode: '+507' },\r\n    { name: 'Papua New Guinea', mcode: '+675' },\r\n    { name: 'Paraguay', mcode: '+595' },\r\n    { name: 'Peru', mcode: '+51' },\r\n    { name: 'Philippines', mcode: '+63' },\r\n    { name: 'Poland', mcode: '+48' },\r\n    { name: 'Portugal', mcode: '+351' },\r\n    { name: 'Puerto Rico', mcode: '+1787' },\r\n    { name: 'Qatar', mcode: '+974' },\r\n    { name: 'Reunion', mcode: '+262' },\r\n    { name: 'Romania', mcode: '+40' },\r\n    { name: 'Russia', mcode: '+7' },\r\n    { name: 'Rwanda', mcode: '+250' },\r\n    { name: 'San Marino', mcode: '+378' },\r\n    { name: 'Sao Tome & Principe', mcode: '+239' },\r\n    { name: 'Saudi Arabia', mcode: '+966' },\r\n    { name: 'Senegal', mcode: '+221' },\r\n    { name: 'Serbia', mcode: '+381' },\r\n    { name: 'Seychelles', mcode: '+248' },\r\n    { name: 'Sierra Leone', mcode: '+232' },\r\n    { name: 'Singapore', mcode: '+65' },\r\n    { name: 'Slovak Republic', mcode: '+421' },\r\n    { name: 'Slovenia', mcode: '+386' },\r\n    { name: 'Solomon Islands', mcode: '+677' },\r\n    { name: 'Somalia', mcode: '+252' },\r\n    { name: 'South Africa', mcode: '+27' },\r\n    { name: 'Spain', mcode: '+34' },\r\n    { name: 'Sri Lanka', mcode: '+94' },\r\n    { name: 'St. Helena', mcode: '+290' },\r\n    { name: 'St. Kitts', mcode: '+1869' },\r\n    { name: 'St. Lucia', mcode: '+1758' },\r\n    { name: 'Suriname', mcode: '+597' },\r\n    { name: 'Sudan', mcode: '+249' },\r\n    { name: 'Swaziland', mcode: '+268' },\r\n    { name: 'Sweden', mcode: '+46' },\r\n    { name: 'Switzerland', mcode: '+41' },\r\n    { name: 'Syria', mcode: '+963' },\r\n    { name: 'Taiwan', mcode: '+886' },\r\n    { name: 'Tajikistan', mcode: '+992' },\r\n    { name: 'Thailand', mcode: '+66' },\r\n    { name: 'Togo', mcode: '+228' },\r\n    { name: 'Tonga', mcode: '+676' },\r\n    { name: 'Trinidad & Tobago', mcode: '+1868' },\r\n    { name: 'Tunisia', mcode: '+216' },\r\n    { name: 'Turkey', mcode: '+90' },\r\n    { name: 'Turkmenistan', mcode: '+993' },\r\n    { name: 'Turks & Caicos Islands', mcode: '+1649' },\r\n    { name: 'Tuvalu', mcode: '+688' },\r\n    { name: 'Uganda', mcode: '+256' },\r\n    { name: 'Ukraine', mcode: '+380' },\r\n    { name: 'United Arab Emirates', mcode: '+971' },\r\n    { name: 'Uruguay', mcode: '+598' },\r\n    { name: 'Uzbekistan', mcode: '+998' },\r\n    { name: 'Vanuatu', mcode: '+678' },\r\n    { name: 'Vatican City', mcode: '+379' },\r\n    { name: 'Venezuela', mcode: '+58' },\r\n    { name: 'Vietnam', mcode: '+84' },\r\n    { name: 'Virgin Islands - British', mcode: '+1' },\r\n    { name: 'Virgin Islands - US', mcode: '+1' },\r\n    { name: 'Wallis & Futuna', mcode: '+681' },\r\n    { name: 'Yemen', mcode: 'North)(+969' },\r\n    { name: 'Yemen', mcode: 'South)(+967' },\r\n    { name: 'Zambia', mcode: '+260' },\r\n    { name: 'Zimbabwe', mcode: '+263' },\r\n  ];\r\n}\r\n","import app from 'flarum/app';\r\nimport Alert from 'flarum/components/Alert';\r\nimport { extend } from 'flarum/extend';\r\nimport ItemList from 'flarum/utils/ItemList';\r\nimport listItems from 'flarum/helpers/listItems';\r\nimport Modal from 'flarum/components/Modal';\r\nimport Dropdown from 'flarum/components/Dropdown';\r\nimport Button from 'flarum/components/Button';\r\nimport TwoFactorModal from './TwoFactorModal';\r\nimport RecoveryModal from './RecoveryModal';\r\nimport Countries from './Countries';\r\nimport PhoneModal from './PhoneModal';\r\n\r\nexport default class AuthyModal extends Modal {\r\n  init() {\r\n    super.init();\r\n\r\n    this.twoFactorCode = m.prop('');\r\n\r\n    this.phone = m.prop('');\r\n\r\n    this.enabled = m.prop(app.session.user.twofa_enabled());\r\n\r\n    $.getScript('https://cdn.rawgit.com/igorescobar/jQuery-Mask-Plugin/master/src/jquery.mask.js', function() {\r\n      $('#phone').mask('(000) 000-00000');\r\n      $('#code').mask('AAA-AAA', { placeholder: '   -   ' });\r\n    });\r\n\r\n    this.country = {\r\n      name: 'United States of America',\r\n      mcode: '+1',\r\n    };\r\n  }\r\n\r\n  className() {\r\n    return 'TwoFactorModal Modal--small';\r\n  }\r\n\r\n  title() {\r\n    return app.translator.trans('reflar-twofactor.forum.modal.twofactor_title');\r\n  }\r\n\r\n  countryItems() {\r\n    const items = new ItemList();\r\n\r\n    items.add(\r\n      'sort',\r\n      Dropdown.component({\r\n        buttonClassName: 'Button FormControl',\r\n        menuClassName: 'Country-Dropdown-actual',\r\n        label: this.country.name,\r\n        children: Countries().map(country => {\r\n          const active = this.country === country;\r\n\r\n          return Button.component({\r\n            children: country.name,\r\n            icon: active ? 'check' : true,\r\n            onclick: () => {\r\n              this.country = country;\r\n            },\r\n            active: active,\r\n          });\r\n        }),\r\n      })\r\n    );\r\n\r\n    return items;\r\n  }\r\n\r\n  content(user) {\r\n    return (\r\n      <div className=\"Modal-body\">\r\n        <div className=\"Form\">\r\n          <div className=\"Form-group\">\r\n            <h2 style=\"text-align: center\">{app.translator.trans('reflar-twofactor.forum.modal.authy_heading')}</h2>\r\n            {app.forum.data.attributes.twillio_enabled === '1'\r\n              ? Button.component({\r\n                  className: 'Button Button--primary Switch-button',\r\n                  onclick: () => {\r\n                    app.modal.close();\r\n                    app.modal.show(new PhoneModal());\r\n                  },\r\n                  children: app.translator.trans('reflar-twofactor.forum.modal.stPhone'),\r\n                })\r\n              : ''}\r\n            {Button.component({\r\n              className: 'Button Button--primary Switch-button',\r\n              onclick: () => {\r\n                app.modal.close();\r\n                app.modal.show(new TwoFactorModal(this.user));\r\n              },\r\n              children: app.translator.trans('reflar-twofactor.forum.modal.stTOTP'),\r\n            })}\r\n            <div style=\"text-align: center\" className=\"helpText Submit-Button\">\r\n              {this.enabled() !== 5\r\n                ? app.translator.trans('reflar-twofactor.forum.modal.helpAuthy')\r\n                : app.translator.trans('reflar-twofactor.forum.modal.helpAuthy2')}\r\n            </div>\r\n          </div>\r\n          {this.enabled() !== 5 ? (\r\n            <div className=\"Form-group\">\r\n              <ul className=\"Country-dropdown\">{listItems(this.countryItems().toArray())}</ul>\r\n              <input type=\"text\" id=\"phone\" oninput={m.withAttr('value', this.phone)} className=\"FormControl Phone-Input\" />\r\n              {Button.component({\r\n                className: 'Button Button--primary',\r\n                onclick: () => {\r\n                  app.request({\r\n                    url: app.forum.attribute('apiUrl') + '/twofactor/verifycode',\r\n                    method: 'POST',\r\n                    data: {\r\n                      step: 5,\r\n                      countryCode: this.country.mcode,\r\n                      phone: this.phone().replace(/[- )(]/g, ''),\r\n                    },\r\n                  });\r\n                  this.enabled(5);\r\n                  m.redraw();\r\n                },\r\n                children: app.translator.trans('reflar-twofactor.forum.modal.otSetup'),\r\n              })}\r\n            </div>\r\n          ) : (\r\n            <div>\r\n              {Button.component({\r\n                className: 'Button Button--primary TwoFactor-button',\r\n                loading: this.loading,\r\n                onclick: () => {\r\n                  app\r\n                    .request({\r\n                      url: app.forum.attribute('apiUrl') + '/twofactor/verifycode',\r\n                      method: 'POST',\r\n                      data: {\r\n                        step: 1,\r\n                      },\r\n                      errorHandler: this.onerror.bind(this),\r\n                    })\r\n                    .then(() => {\r\n                      app.modal.close();\r\n                      app.modal.show(new TwoFactorModal(this.user));\r\n                    });\r\n\r\n                  this.loading = false;\r\n                },\r\n                children: app.translator.trans('reflar-twofactor.forum.modal.back'),\r\n              })}\r\n              <input\r\n                type=\"text\"\r\n                id=\"code\"\r\n                style=\"text-transform: uppercase;\"\r\n                oninput={m.withAttr('value', this.twoFactorCode)}\r\n                className=\"FormControl\"\r\n              />\r\n              {Button.component({\r\n                className: 'Button Button--primary TwoFactor-button',\r\n                loading: this.loading,\r\n                type: 'submit',\r\n                children: app.translator.trans('reflar-twofactor.forum.modal.button'),\r\n              })}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  onsubmit(e) {\r\n    e.preventDefault();\r\n\r\n    if (this.loading) return;\r\n\r\n    this.loading = true;\r\n    app\r\n      .request({\r\n        url: app.forum.attribute('apiUrl') + '/twofactor/verifycode',\r\n        method: 'POST',\r\n        data: {\r\n          step: 6,\r\n          code: this.twoFactorCode(),\r\n        },\r\n      })\r\n      .then(response => {\r\n        const data = response.data.id;\r\n        if (data === 'IncorrectCode') {\r\n          this.alert = new Alert({\r\n            type: 'error',\r\n            children: app.translator.trans('reflar-twofactor.forum.incorrect_2fa'),\r\n          });\r\n          m.redraw();\r\n        } else {\r\n          app.alerts.show(\r\n            (this.successAlert = new Alert({\r\n              type: 'success',\r\n              children: app.translator.trans('reflar-twofactor.forum.2fa_enabled'),\r\n            }))\r\n          );\r\n          app.modal.show(new RecoveryModal({ data }));\r\n        }\r\n      });\r\n\r\n    this.loading = false;\r\n  }\r\n}\r\n","import app from 'flarum/app';\r\nimport Alert from 'flarum/components/Alert';\r\nimport { extend } from 'flarum/extend';\r\nimport Modal from 'flarum/components/Modal';\r\nimport Switch from 'flarum/components/Switch';\r\nimport Button from 'flarum/components/Button';\r\nimport AuthyModal from './AuthyModal';\r\nimport PhoneModal from './PhoneModal';\r\nimport RecoveryModal from './RecoveryModal';\r\n\r\nexport default class TwoFactorModal extends Modal {\r\n  init() {\r\n    super.init();\r\n\r\n    this.user = app.session.user;\r\n\r\n    this.enabled = m.prop(0);\r\n    this.secret = m.prop('');\r\n    this.url = m.prop('');\r\n\r\n    this.twoFactorCode = m.prop('');\r\n\r\n    $.getScript('https://cdn.rawgit.com/igorescobar/jQuery-Mask-Plugin/master/src/jquery.mask.js', function() {\r\n      $('#passcode').mask('000000');\r\n    });\r\n\r\n    app\r\n      .request({\r\n        url: app.forum.attribute('apiUrl') + '/twofactor/getsecret',\r\n        method: 'GET',\r\n      })\r\n      .then(response => {\r\n        m.startComputation();\r\n        this.secret(response.data[0].attributes.data.google2fa_secret);\r\n        this.url(response.data[1].id);\r\n        this.enabled(response.data[0].attributes.data.twofa_enabled);\r\n        m.endComputation();\r\n      });\r\n  }\r\n\r\n  className() {\r\n    return 'TwoFactorModal Modal--small';\r\n  }\r\n\r\n  title() {\r\n    return app.translator.trans('reflar-twofactor.forum.modal.twofactor_title');\r\n  }\r\n\r\n  content(user) {\r\n    if (this.enabled() === 3) {\r\n      app.modal.show(new PhoneModal());\r\n    }\r\n    if (this.enabled() === 5) {\r\n      app.modal.show(new AuthyModal());\r\n    }\r\n    return (\r\n      <div className=\"Modal-body\">\r\n        <div className=\"Form\">\r\n          {this.enabled() === 1 ? (\r\n            <div className=\"Form-group\">\r\n              <h2>{app.translator.trans('reflar-twofactor.forum.modal.2fa_heading')}</h2>\r\n              {app.forum.data.attributes.authy_enabled === '1'\r\n                ? Button.component({\r\n                    className: 'Button Button--primary Switch-button',\r\n                    onclick: () => {\r\n                      app.modal.close();\r\n                      app.modal.show(new AuthyModal());\r\n                    },\r\n                    children: app.translator.trans('reflar-twofactor.forum.modal.stAuthy'),\r\n                  })\r\n                : ''}\r\n              {app.forum.data.attributes.twillio_enabled === '1'\r\n                ? Button.component({\r\n                    className: 'Button Button--primary Switch-button',\r\n                    onclick: () => {\r\n                      app.modal.close();\r\n                      app.modal.show(new PhoneModal());\r\n                    },\r\n                    children: app.translator.trans('reflar-twofactor.forum.modal.stPhone'),\r\n                  })\r\n                : ''}\r\n              <div style=\"text-align: center\" className=\"helpText Submit-Button\">\r\n                {app.translator.trans('reflar-twofactor.forum.modal.helpQR')}\r\n              </div>\r\n              <div className=\"TwoFactor-img Submit-Button\">\r\n                <img src={decodeURIComponent(this.url())} />\r\n                <h3>{this.secret()}</h3>\r\n              </div>\r\n              <div className=\"TwoFactor-input\">\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"passcode\"\r\n                  oninput={m.withAttr('value', this.twoFactorCode)}\r\n                  className=\"FormControl\"\r\n                  placeholder={app.translator.trans('reflar-twofactor.forum.modal.placeholder')}\r\n                />\r\n              </div>\r\n              <Button className=\"Button Button--primary TwoFactor-button\" loading={this.loading} type=\"submit\">\r\n                {app.translator.trans('reflar-twofactor.forum.modal.button')}\r\n              </Button>\r\n            </div>\r\n          ) : (\r\n            ''\r\n          )}\r\n          {this.enabled() !== 1 && this.enabled() !== 3 ? (\r\n            <div className=\"Form-group\">\r\n              <label>{app.translator.trans('reflar-twofactor.forum.modal.heading')}</label>\r\n              <div>\r\n                {Switch.component({\r\n                  state: this.enabled() === 0 ? false : !(this.enabled() % 2),\r\n                  children: app.translator.trans('reflar-twofactor.forum.modal.switch'),\r\n                  className: 'TwoFactor-switch',\r\n                  onchange: value => {\r\n                    app\r\n                      .request({\r\n                        url: app.forum.attribute('apiUrl') + '/twofactor/verifycode',\r\n                        method: 'POST',\r\n                        data: {\r\n                          step: value,\r\n                        },\r\n                      })\r\n                      .then(response => {\r\n                        this.enabled(+value);\r\n                        app\r\n                          .request({\r\n                            url: app.forum.attribute('apiUrl') + '/twofactor/getsecret',\r\n                            method: 'GET',\r\n                          })\r\n                          .then(response => {\r\n                            this.secret(response.data[0].attributes.data.google2fa_secret);\r\n                            this.url(response.data[1].id);\r\n                            m.redraw();\r\n                          });\r\n                      });\r\n                  },\r\n                })}\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            ''\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  onsubmit(e) {\r\n    e.preventDefault();\r\n\r\n    if (this.loading) return;\r\n\r\n    this.loading = true;\r\n\r\n    this.alert = null;\r\n\r\n    app\r\n      .request({\r\n        url: app.forum.attribute('apiUrl') + '/twofactor/verifycode',\r\n        method: 'POST',\r\n        data: {\r\n          step: 2,\r\n          code: this.twoFactorCode(),\r\n        },\r\n      })\r\n      .then(response => {\r\n        const data = response.data.id;\r\n        if (data === 'IncorrectCode') {\r\n          this.alert = new Alert({\r\n            type: 'error',\r\n            children: app.translator.trans('reflar-twofactor.forum.incorrect_2fa'),\r\n          });\r\n          m.redraw();\r\n        } else {\r\n          app.alerts.show(\r\n            (this.successAlert = new Alert({\r\n              type: 'success',\r\n              children: app.translator.trans('reflar-twofactor.forum.2fa_enabled'),\r\n            }))\r\n          );\r\n          app.modal.show(new RecoveryModal({ data }));\r\n        }\r\n      });\r\n\r\n    this.loading = false;\r\n  }\r\n}\r\n","import Alert from 'flarum/components/Alert';\r\nimport Modal from 'flarum/components/Modal';\r\nimport Button from 'flarum/components/Button';\r\nimport LoadingIndicator from 'flarum/components/LoadingIndicator';\r\nimport icon from 'flarum/helpers/icon';\r\n\r\nexport default class OneTouchModal extends Modal {\r\n  init() {\r\n    this.identification = this.props.data.identification;\r\n\r\n    this.password = this.props.data.password;\r\n\r\n    this.remember = this.props.data.remember;\r\n\r\n    this.pageId = this.props.data.pageId;\r\n\r\n    this.twoFactorCode = m.prop('');\r\n\r\n    this.verified = false;\r\n\r\n    this.code = m.prop(false);\r\n\r\n    this.clock = window.setInterval(() => {\r\n      if (!this.shouldCheck) {\r\n        this.shouldCheck = true;\r\n        app\r\n          .request({\r\n            url: app.forum.attribute('apiUrl') + '/twofactor/login',\r\n            method: 'POST',\r\n            data: {\r\n              identification: this.identification,\r\n              password: this.password,\r\n              remember: this.remember,\r\n              pageId: this.pageId,\r\n            },\r\n          })\r\n          .then(response => {\r\n            if (response.userId === 'IncorrectOneCode') {\r\n              this.shouldCheck = false;\r\n            } else {\r\n              this.verified = true;\r\n              m.redraw();\r\n              window.location.reload();\r\n            }\r\n          });\r\n      }\r\n    }, 3000);\r\n  }\r\n\r\n  className() {\r\n    return 'OneTouchModal';\r\n  }\r\n\r\n  title() {\r\n    return app.translator.trans('reflar-twofactor.forum.modal.oneTouchTitle');\r\n  }\r\n\r\n  content() {\r\n    if (this.verified) {\r\n      return (\r\n        <div className=\"Modal-body TwoFactor-approved\">\r\n          <h1 className=\"TwoFactor-title\">{app.translator.trans('reflar-twofactor.forum.modal.oneTouchHeaderVerified')}</h1>\r\n          <div className=\"TwoFactor-icon\">{icon('fas fa-check')}</div>\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <div className=\"Modal-body\">\r\n        <h2 className=\"TwoFactor-title\">\r\n          {this.code()\r\n            ? app.translator.trans('reflar-twofactor.forum.modal.oneTouchCodeHeader')\r\n            : app.translator.trans('reflar-twofactor.forum.modal.oneTouchHeader')}\r\n        </h2>\r\n        <div id=\"spinner\">{LoadingIndicator.component({ style: 'transform: scale(1.5);' })}</div>\r\n        {this.code()\r\n          ? [\r\n              <input\r\n                type=\"text\"\r\n                id=\"code\"\r\n                oninput={m.withAttr('value', this.twoFactorCode)}\r\n                className=\"FormControl TwoFactor-oneTime\"\r\n                placeholder={app.translator.trans('reflar-twofactor.forum.modal.placeholder')}\r\n              />,\r\n              <Button\r\n                className={'Button Button--primary TwoFactor-inputButton' + (this.twoFactorCode().length > 5 ? '' : ' disabled')}\r\n                loading={this.loading}\r\n                type=\"submit\"\r\n              >\r\n                {app.translator.trans('reflar-twofactor.forum.modal.button')}\r\n              </Button>,\r\n            ]\r\n          : Button.component({\r\n              className: 'Button Button--primary TwoFactor-oneButton',\r\n              id: 'showInput',\r\n              onclick: () => {\r\n                this.code(true);\r\n                m.redraw();\r\n                $('#spinner').hide();\r\n                window.clearInterval(this.clock);\r\n              },\r\n              children: app.translator.trans('reflar-twofactor.forum.modal.useACode'),\r\n            })}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  onsubmit(e) {\r\n    e.preventDefault();\r\n\r\n    if (this.loading) return;\r\n\r\n    this.twoFactorCode(this.twoFactorCode().toUpperCase());\r\n\r\n    this.loading = true;\r\n\r\n    app\r\n      .request({\r\n        url: app.forum.attribute('apiUrl') + '/twofactor/login',\r\n        method: 'POST',\r\n        data: {\r\n          identification: this.identification,\r\n          password: this.password,\r\n          remember: this.remember,\r\n          twofactor: this.twoFactorCode(),\r\n          pageId: this.pageId,\r\n        },\r\n      })\r\n      .then(response => {\r\n        if (response.userId === 'IncorrectOneCode') {\r\n          this.alert = new Alert({\r\n            type: 'error',\r\n            dismissible: false,\r\n            children: app.translator.trans('reflar-twofactor.forum.incorrect_2fa'),\r\n          });\r\n          this.loading = false;\r\n          m.redraw();\r\n        } else {\r\n          window.location.reload();\r\n        }\r\n      });\r\n  }\r\n}\r\n","import { extend } from 'flarum/extend';\r\nimport app from 'flarum/app';\r\nimport Alert from 'flarum/components/Alert';\r\nimport Button from 'flarum/components/Button';\r\nimport LogInFactorModal from './components/LogInFactorModal';\r\nimport LogInModal from 'flarum/components/LogInModal';\r\nimport Model from 'flarum/Model';\r\nimport SettingsPage from 'flarum/components/SettingsPage';\r\nimport TwoFactorModal from './components/TwoFactorModal';\r\nimport User from 'flarum/models/User';\r\nimport OneTouchModal from './components/OneTouchModal';\r\n\r\napp.initializers.add('reflar-twofactor', () => {\r\n  User.prototype.twofa_enabled = Model.attribute('twofa-enabled');\r\n\r\n  LogInModal.prototype.init = function() {\r\n    this.identification = m.prop(this.props.identification || '');\r\n\r\n    this.password = m.prop(this.props.password || '');\r\n\r\n    this.remember = m.prop(this.props.remember && true);\r\n\r\n    this.pageId = this.makeid();\r\n  };\r\n\r\n  LogInModal.prototype.makeid = function() {\r\n    var text = '';\r\n    var possible = '0123456789';\r\n\r\n    for (var i = 0; i < 5; i++) text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n\r\n    return text;\r\n  };\r\n\r\n  LogInModal.prototype.onsubmit = function(e) {\r\n    e.preventDefault();\r\n\r\n    this.loading = true;\r\n\r\n    const identification = this.identification();\r\n    const password = this.password();\r\n    const remember = this.remember();\r\n    const pageId = this.pageId;\r\n\r\n    app\r\n      .request({\r\n        url: app.forum.attribute('apiUrl') + '/twofactor/login',\r\n        method: 'POST',\r\n        errorHandler: this.failure.bind(this),\r\n        data: { identification, password, remember, pageId },\r\n      })\r\n      .then(response => {\r\n        let data = {\r\n          identification: this.identification(),\r\n          password: this.password(),\r\n          remember: this.remember(),\r\n          pageId: this.pageId,\r\n        };\r\n        if (response.userId === 'IncorrectCode') {\r\n          app.modal.show(new LogInFactorModal({ data }));\r\n        } else if (response.userId === 'IncorrectOneCode') {\r\n          app.modal.show(new OneTouchModal({ data }));\r\n        } else {\r\n          window.location.reload();\r\n        }\r\n      });\r\n  };\r\n\r\n  LogInModal.prototype.failure = function(response) {\r\n    if (parseInt(response.status) === 401) {\r\n      this.alert = new Alert({\r\n        type: 'error',\r\n        dismissible: false,\r\n        children: app.translator.trans('core.forum.log_in.invalid_login_message'),\r\n      });\r\n      this.loading = false;\r\n      m.redraw();\r\n    }\r\n  };\r\n\r\n  extend(SettingsPage.prototype, 'accountItems', items => {\r\n    items.add(\r\n      '2 Factor',\r\n      Button.component(\r\n        {\r\n          className: 'Button',\r\n          onclick: () => {\r\n            app.modal.show(new TwoFactorModal());\r\n          },\r\n        },\r\n        [app.translator.trans('reflar-twofactor.forum.accountlabel')]\r\n      ),\r\n      1\r\n    );\r\n  });\r\n});\r\n"],"sourceRoot":""}