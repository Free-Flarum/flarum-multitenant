{"version":3,"sources":["webpack://@v17development/flarum-badges/webpack/bootstrap","webpack://@v17development/flarum-badges/external \"flarum.core.compat['Model']\"","webpack://@v17development/flarum-badges/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@v17development/flarum-badges/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@v17development/flarum-badges/external \"flarum.core.compat['components/Button']\"","webpack://@v17development/flarum-badges/external \"flarum.core.compat['utils/Stream']\"","webpack://@v17development/flarum-badges/external \"flarum.core.compat['common/Component']\"","webpack://@v17development/flarum-badges/external \"flarum.core.compat['components/Modal']\"","webpack://@v17development/flarum-badges/external \"flarum.core.compat['utils/ItemList']\"","webpack://@v17development/flarum-badges/./src/forum/components/BadgeModal.js","webpack://@v17development/flarum-badges/external \"flarum.core.compat['components/LoadingIndicator']\"","webpack://@v17development/flarum-badges/external \"flarum.core.compat['components/LinkButton']\"","webpack://@v17development/flarum-badges/external \"flarum.core.compat['utils/mixin']\"","webpack://@v17development/flarum-badges/./src/common/components/UserBadge.js","webpack://@v17development/flarum-badges/external \"flarum.core.compat['components/IndexPage']\"","webpack://@v17development/flarum-badges/./src/forum/components/GiveBadgeModal.js","webpack://@v17development/flarum-badges/external \"flarum.core.compat['components/Link']\"","webpack://@v17development/flarum-badges/external \"flarum.core.compat['extend']\"","webpack://@v17development/flarum-badges/./src/common/models/Badge.js","webpack://@v17development/flarum-badges/external \"flarum.core.compat['helpers/fullTime']\"","webpack://@v17development/flarum-badges/./src/common/models/BadgeCategory.js","webpack://@v17development/flarum-badges/external \"flarum.core.compat['common/components/Tooltip']\"","webpack://@v17development/flarum-badges/external \"flarum.core.compat['components/UserPage']\"","webpack://@v17development/flarum-badges/external \"flarum.core.compat['components/Page']\"","webpack://@v17development/flarum-badges/external \"flarum.core.compat['common/helpers/listItems']\"","webpack://@v17development/flarum-badges/external \"flarum.core.compat['components/Select']\"","webpack://@v17development/flarum-badges/external \"flarum.core.compat['models/User']\"","webpack://@v17development/flarum-badges/external \"flarum.core.compat['utils/UserControls']\"","webpack://@v17development/flarum-badges/external \"flarum.core.compat['helpers/avatar']\"","webpack://@v17development/flarum-badges/external \"flarum.core.compat['helpers/humanTime']\"","webpack://@v17development/flarum-badges/external \"flarum.core.compat['common/states/PaginatedListState']\"","webpack://@v17development/flarum-badges/external \"flarum.core.compat['forum/components/Notification']\"","webpack://@v17development/flarum-badges/external \"flarum.core.compat['forum/components/NotificationGrid']\"","webpack://@v17development/flarum-badges/./src/common/models/UserBadge.js","webpack://@v17development/flarum-badges/./src/forum/components/UserBadgeList.js","webpack://@v17development/flarum-badges/./src/forum/components/BadgesProfilePage.js","webpack://@v17development/flarum-badges/./src/forum/components/BadgeCategoryList/TableView.js","webpack://@v17development/flarum-badges/./src/forum/components/BadgeCategoryList/BlockListView.js","webpack://@v17development/flarum-badges/./src/forum/components/BadgesOverviewPage.js","webpack://@v17development/flarum-badges/./src/forum/components/BadgeUserList.js","webpack://@v17development/flarum-badges/./src/forum/components/BadgeItemPage.js","webpack://@v17development/flarum-badges/./src/forum/addSidebarNav.js","webpack://@v17development/flarum-badges/./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://@v17development/flarum-badges/./src/forum/states/UserBadgeListState.js","webpack://@v17development/flarum-badges/./src/forum/notification/BadgeReceivedNotification.js","webpack://@v17development/flarum-badges/./src/forum/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","flarum","core","compat","_setPrototypeOf","setPrototypeOf","__proto__","_inheritsLoose","subClass","superClass","constructor","BadgeModal","oninit","vnode","this","loading","className","title","app","translator","trans","content","data","toArray","href","route","id","attrs","badge","style","margin","userBadgeData","forum","attribute","onclick","confirm","then","hide","items","ItemList","add","description","e","preventDefault","modal","show","GiveBadgeModal","fullTime","assignedAt","category","earnedAmount","count","Modal","UserBadge","tooltip","forceVisibility","view","isVisible","text","isPartlyHidden","image","src","opacity","undefined","backgroundColor","color","labelColor","borderColor","icon","iconColor","Component","selectedBadge","user","userHasBadge","store","createRecord","Stream","categories","uncategorizedBadges","find","include","badges","forEach","push","redraw","exists","fields","type","disabled","onchange","target","getById","checkUserHasBadge","values","map","label","length","class","placeholder","bidi","foundBadge","userBadges","userBadge","onsubmit","save","relationships","response","handleErrors","Badge","apiEndpoint","mixin","Model","order","createdAt","hasOne","BadgeCategory","isEnabled","isTable","users","hasMany","isPrimary","UserBadgeList","uncategorized","keys","sort","a","b","BadgesProfilePage","loadUser","param","size","component","UserPage","TableView","width","scope","BlockListView","BadgesOverviewPage","bodyClass","history","setTitle","all","IndexPage","hero","listItems","sidebarItems","Page","BadgeUserList","state","refreshParams","filter","badgeId","isInitialLoading","isLoadingNext","LoadingIndicator","hasNext","Button","loadNext","isEmpty","getPages","pg","username","avatar","displayName","date","humanTime","BadgeItemPage","found","userBadgeListState","addSidebarNav","extend","_defineProperties","props","descriptor","configurable","writable","UserBadgeListState","params","page","Constructor","protoProps","staticProps","PaginatedListState","BadgeReceivedNotification","session","excerpt","subject","notification","Notification","initializers","models","badgeCategories","User","userPrimaryBadge","routes","path","notificationComponents","badgeReceived","NotificationGrid","LinkButton","UserControls"],"mappings":"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","file":"forum.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 37);\n","module.exports = flarum.core.compat['Model'];","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","module.exports = flarum.core.compat['components/Button'];","module.exports = flarum.core.compat['utils/Stream'];","module.exports = flarum.core.compat['common/Component'];","module.exports = flarum.core.compat['components/Modal'];","module.exports = flarum.core.compat['utils/ItemList'];","import Modal from \"flarum/components/Modal\";\nimport Button from \"flarum/components/Button\";\nimport fullTime from \"flarum/helpers/fullTime\";\nimport ItemList from \"flarum/utils/ItemList\";\nimport LinkButton from \"flarum/components/LinkButton\";\nimport GiveBadgeModal from \"./GiveBadgeModal\";\n\nexport default class BadgeModal extends Modal {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.loading = false;\n  }\n\n  className() {\n    return \"Modal--small\";\n  }\n\n  title() {\n    return app.translator.trans(\n      \"v17development-flarum-badges.forum.badge_information\"\n    );\n  }\n\n  content() {\n    return (\n      <div>\n        <div className=\"Modal-body\">{this.data().toArray()}</div>\n        <div className=\"Modal-footer\">\n          <LinkButton\n            href={app.route(\"badges.item\", {\n              id: this.attrs.badge.id(),\n            })}\n            className={\"Button\"}\n            style={{\n              margin: \"0 10px\",\n            }}\n          >\n            {app.translator.trans(\n              \"v17development-flarum-badges.forum.badge.badge_details\"\n            )}\n          </LinkButton>\n\n          {this.attrs.userBadgeData && app.forum.attribute(\"canGiveBadge\") && (\n            <Button\n              className={\"Button Button--primary\"}\n              onclick={() => {\n                if (\n                  confirm(\n                    app.translator.trans(\n                      \"v17development-flarum-badges.forum.moderation.remove_badge_confirm\"\n                    )\n                  )\n                ) {\n                  this.loading = true;\n                  this.attrs.userBadgeData.delete().then(() => this.hide());\n                }\n              }}\n              loading={this.loading}\n            >\n              {app.translator.trans(\n                \"v17development-flarum-badges.forum.moderation.remove_badge\"\n              )}\n            </Button>\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  data() {\n    const items = new ItemList();\n\n    // Badge name\n    items.add(\n      \"name\",\n      <div className={\"BadgeModalListItem\"}>\n        <p>\n          <b>\n            {app.translator.trans(\n              \"v17development-flarum-badges.forum.badge.name\"\n            )}\n            :\n          </b>\n        </p>\n        <p>{this.attrs.badge.name()}</p>\n      </div>\n    );\n\n    // Badge description\n    items.add(\n      \"description\",\n      <div className={\"BadgeModalListItem\"}>\n        <p>\n          <b>\n            {app.translator.trans(\n              \"v17development-flarum-badges.forum.badge.description\"\n            )}\n            :\n          </b>\n        </p>\n        <p>{this.attrs.badge.description()}</p>\n      </div>\n    );\n\n    // Badge earning reason\n    if (\n      this.attrs.userBadgeData &&\n      (this.attrs.userBadgeData.description() ||\n        app.forum.attribute(\"canGiveBadge\"))\n    ) {\n      items.add(\n        \"earning_reason\",\n        <div className={\"BadgeModalListItem\"}>\n          <p>\n            <b>\n              {app.translator.trans(\n                \"v17development-flarum-badges.forum.badge.earning_reason\"\n              )}\n              :\n            </b>\n          </p>\n\n          <p>\n            {this.attrs.userBadgeData.description() ? (\n              this.attrs.userBadgeData.description()\n            ) : (\n              <i>\n                {app.translator.trans(\n                  \"v17development-flarum-badges.forum.badge.no_earning_reason\"\n                )}\n              </i>\n            )}\n          </p>\n          <p>\n            {app.forum.attribute(\"canGiveBadge\") && (\n              <a\n                href={\"#\"}\n                onclick={(e) => {\n                  e.preventDefault();\n                  app.modal.show(GiveBadgeModal, {\n                    badge: this.attrs.userBadgeData,\n                  });\n                }}\n              >\n                {app.translator.trans(\n                  \"v17development-flarum-badges.forum.badge.update_earning_reason\"\n                )}\n              </a>\n            )}\n          </p>\n        </div>\n      );\n    }\n\n    // Badge earned on\n    if (this.attrs.userBadgeData) {\n      items.add(\n        \"earned_date\",\n        <div className={\"BadgeModalListItem\"}>\n          <p>\n            <b>\n              {app.translator.trans(\n                \"v17development-flarum-badges.forum.badge.earned_on\"\n              )}\n              :\n            </b>\n          </p>\n          <p>{fullTime(this.attrs.userBadgeData.assignedAt())}</p>\n        </div>\n      );\n    }\n\n    // Badge category\n    if (this.attrs.userBadgeData) {\n      items.add(\n        \"category\",\n        <div className={\"BadgeModalListItem\"}>\n          <p>\n            <b>\n              {app.translator.trans(\n                \"v17development-flarum-badges.forum.badge.category\"\n              )}\n              :\n            </b>\n          </p>\n          <p>\n            {this.attrs.badge.category() && this.attrs.badge.category().name()}\n\n            {/* Uncategorized */}\n            {!this.attrs.badge.category() &&\n              app.translator.trans(\n                \"v17development-flarum-badges.forum.uncategorized\"\n              )}\n            {/* <Link\n              href={app.route(\"badges.category\", {\n                category: this.attrs.badge.category().id(),\n              })}\n            >\n              {app.translator.trans(\n                \"v17development-flarum-badges.forum.all_badges\"\n              )}\n            </Link> */}\n          </p>\n        </div>\n      );\n    }\n\n    // Badge category\n    if (this.attrs.badge && this.attrs.badge.earnedAmount()) {\n      items.add(\n        \"earned_amount\",\n        <div className={\"BadgeModalListItem\"}>\n          <p>\n            {app.translator.trans(\n              \"v17development-flarum-badges.forum.badge.earned_count\",\n              {\n                count: this.attrs.badge.earnedAmount(),\n              }\n            )}\n          </p>\n        </div>\n      );\n    }\n\n    return items;\n  }\n}\n","module.exports = flarum.core.compat['components/LoadingIndicator'];","module.exports = flarum.core.compat['components/LinkButton'];","module.exports = flarum.core.compat['utils/mixin'];","import Component from \"flarum/common/Component\";\nimport Tooltip from \"flarum/common/components/Tooltip\";\nimport BadgeModal from \"../../forum/components/BadgeModal\";\n\nexport default class UserBadge extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.tooltip = this.attrs.tooltip !== false;\n    this.forceVisibility = this.attrs.forceVisibility === true;\n  }\n\n  view() {\n    // Hide badge when not enabled\n    if (!this.attrs.badge.isVisible() && !this.forceVisibility) {\n      return null;\n    }\n\n    // Just show badge\n    if (this.tooltip === false) return this.badge();\n\n    return (\n      <Tooltip\n        text={`${\n          this.attrs.badge.description() ? this.attrs.badge.description() : \"\"\n        }`}\n      >\n        {this.badge()}\n      </Tooltip>\n    );\n  }\n\n  badge() {\n    const isPartlyHidden =\n      !this.attrs.badge.isVisible() && this.forceVisibility;\n\n    // This badge is an image\n    if (this.attrs.badge.image()) {\n      return (\n        <img\n          src={this.attrs.badge.image()}\n          className={\"UserBadgeImage\"}\n          onclick={() => {\n            if (this.attrs.onclick) {\n              this.attrs.onclick();\n            }\n          }}\n          style={{\n            opacity: isPartlyHidden ? 0.5 : undefined,\n          }}\n        />\n      );\n    }\n\n    return (\n      <span\n        className={`UserBadge UserBadge-${this.attrs.badge.id()}`}\n        onclick={() => {\n          if (this.attrs.onclick) {\n            this.attrs.onclick();\n          }\n        }}\n        style={{\n          backgroundColor: this.attrs.badge.backgroundColor(),\n          color: this.attrs.badge.labelColor(),\n          borderColor: this.attrs.badge.backgroundColor(),\n          opacity: isPartlyHidden ? 0.5 : undefined,\n        }}\n      >\n        <i\n          className={this.attrs.badge.icon()}\n          style={{ color: this.attrs.badge.iconColor() }}\n        />{\" \"}\n        {this.attrs.badge.name()}\n      </span>\n    );\n  }\n}\n","module.exports = flarum.core.compat['components/IndexPage'];","import Modal from \"flarum/components/Modal\";\nimport Button from \"flarum/components/Button\";\nimport ItemList from \"flarum/utils/ItemList\";\nimport Select from \"flarum/components/Select\";\nimport Stream from \"flarum/utils/Stream\";\nimport BadgeModal from \"./BadgeModal\";\n\nexport default class GiveBadgeModal extends Modal {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    // Select image\n    this.selectedBadge = this.attrs.badge ? this.attrs.badge.badge() : null;\n\n    // Current user\n    this.user = this.attrs.badge ? this.attrs.badge.user() : this.attrs.user;\n\n    // User has badge\n    this.userHasBadge = false;\n\n    // Badge model\n    this.badge = this.attrs.badge\n      ? this.attrs.badge\n      : app.store.createRecord(\"userBadges\");\n\n    // Earning reason\n    this.description = Stream(this.badge.description());\n\n    // List of available bagges\n    this.categories = {};\n\n    this.uncategorizedBadges = [];\n\n    this.loading = false;\n\n    // Load all available badges\n    if (!this.attrs.badge) {\n      this.loading = true;\n\n      app.store\n        .find(\"badges\", {\n          include: \"category\",\n        })\n        .then((badges) => {\n          badges.forEach((badge) => {\n            // Categorized\n            if (badge.category()) {\n              const category = badge.category();\n\n              if (!this.categories[category.id()]) {\n                this.categories[category.id()] = {\n                  category,\n                  badges: [badge],\n                };\n              } else {\n                this.categories[category.id()].badges.push(badge);\n              }\n            }\n            // Uncategorized\n            else {\n              this.uncategorizedBadges.push(badge);\n            }\n          });\n\n          this.loading = false;\n\n          // Redraw\n          m.redraw();\n        });\n    }\n  }\n\n  className() {\n    return \"Modal--small BadgeModal\";\n  }\n\n  title() {\n    return app.translator.trans(\n      `v17development-flarum-badges.forum.${\n        this.badge.exists ? \"update\" : \"give\"\n      }_badge`\n    );\n  }\n\n  content() {\n    return (\n      <div>\n        <div className=\"Modal-body\">\n          <div className=\"Form\">{this.fields().toArray()}</div>\n        </div>\n\n        <div className=\"Modal-footer\">\n          <Button\n            className={\"Button Button--primary\"}\n            type={\"submit\"}\n            loading={this.loading}\n            disabled={this.userHasBadge}\n          >\n            {app.translator.trans(\"core.forum.composer_edit.submit_button\")}\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  fields() {\n    const items = new ItemList();\n\n    // Badge selector\n    items.add(\n      \"badge\",\n      <div className=\"BadgeModalListItem\">\n        <p>\n          <b>\n            {app.translator.trans(\n              \"v17development-flarum-badges.forum.badge.badge\"\n            )}\n          </b>\n        </p>\n\n        <div className={\"Select\"}>\n          <select\n            value={this.selectedBadge ? this.selectedBadge.id() : \"empty\"}\n            disabled={!!this.attrs.badge}\n            onchange={(e) => {\n              if (e.target.value === \"empty\") return;\n              this.selectedBadge = app.store.getById(\"badges\", e.target.value);\n\n              // Check if the user already has this badge\n              this.checkUserHasBadge(this.selectedBadge);\n            }}\n            className=\"Select-input FormControl\"\n          >\n            <option value={\"empty\"}>\n              {app.translator.trans(\n                \"v17development-flarum-badges.forum.select_badge\"\n              )}\n            </option>\n\n            {/* When no badge is selected, show all available badges */}\n            {!this.attrs.badge &&\n              Object.values(this.categories).map(({ category, badges }) => (\n                <optgroup label={category.name()}>\n                  {badges.map((badge) => (\n                    <option value={badge.id()}>{badge.name()}</option>\n                  ))}\n                </optgroup>\n              ))}\n\n            {!this.attrs.badge && this.uncategorizedBadges.length >= 1 && (\n              <optgroup\n                label={app.translator.trans(\n                  \"v17development-flarum-badges.forum.uncategorized\"\n                )}\n              >\n                {this.uncategorizedBadges.map((badge) => (\n                  <option value={badge.id()}>{badge.name()}</option>\n                ))}\n              </optgroup>\n            )}\n\n            {/* When a badge is already assigned */}\n            {!!this.attrs.badge && (\n              <option value={this.selectedBadge.id()}>\n                {this.selectedBadge.name()}\n              </option>\n            )}\n          </select>\n          <i class=\"icon fas fa-caret-down Select-caret\"></i>\n        </div>\n\n        {this.userHasBadge && (\n          <p className={\"UserHasBadge\"}>\n            {app.translator.trans(\n              \"v17development-flarum-badges.forum.user_has_badge\"\n            )}\n          </p>\n        )}\n      </div>,\n      30\n    );\n\n    // Badge description\n    items.add(\n      \"badge_description\",\n      <div className={\"BadgeModalListItem\"}>\n        <p>\n          <b>\n            {app.translator.trans(\n              \"v17development-flarum-badges.forum.badge.description\"\n            )}\n            :\n          </b>\n        </p>\n        <p>\n          {this.selectedBadge\n            ? this.selectedBadge.description()\n            : app.translator.trans(\n                \"v17development-flarum-badges.forum.select_badge\"\n              )}\n        </p>\n      </div>,\n      30\n    );\n\n    // Badge earning reason\n    items.add(\n      \"description\",\n      <div className=\"BadgeModalListItem\">\n        <p>\n          <b>\n            {app.translator.trans(\n              \"v17development-flarum-badges.forum.badge.earning_reason\"\n            )}\n          </b>\n        </p>\n        <textarea\n          className=\"FormControl\"\n          placeholder={app.translator.trans(\n            \"v17development-flarum-badges.forum.badge.earning_reason\"\n          )}\n          bidi={this.description}\n        />\n      </div>,\n      30\n    );\n\n    return items;\n  }\n\n  checkUserHasBadge(badge) {\n    let foundBadge = false;\n\n    this.user.userBadges().map((userBadge) => {\n      if (userBadge.badge() == badge) {\n        foundBadge = true;\n      }\n    });\n\n    this.userHasBadge = foundBadge;\n\n    m.redraw();\n  }\n\n  onsubmit(e) {\n    e.preventDefault();\n\n    this.loading = true;\n\n    this.badge\n      .save({\n        description: this.description(),\n        relationships: this.attrs.badge\n          ? {}\n          : {\n              badge: this.selectedBadge,\n              user: this.user,\n            },\n      })\n      .then(\n        () => {\n          // Re-open badge modal\n          if (this.attrs.badge) {\n            app.modal.show(BadgeModal, {\n              badge: this.attrs.badge.badge(),\n              userBadgeData: this.attrs.badge,\n            });\n          } else {\n            this.hide();\n          }\n\n          m.redraw();\n        },\n        (response) => {\n          this.loading = false;\n          this.handleErrors(response);\n        }\n      );\n  }\n}\n","module.exports = flarum.core.compat['components/Link'];","module.exports = flarum.core.compat['extend'];","import Model from \"flarum/Model\";\nimport mixin from \"flarum/utils/mixin\";\nimport BadgeModal from \"../../forum/components/BadgeModal\";\n\nexport default class Badge extends mixin(Model, {\n  name: Model.attribute(\"name\"),\n  icon: Model.attribute(\"icon\"),\n  order: Model.attribute(\"order\"),\n  image: Model.attribute(\"image\"),\n  description: Model.attribute(\"description\"),\n  isVisible: Model.attribute(\"isVisible\"),\n  createdAt: Model.attribute(\"createdAt\"),\n  earnedAmount: Model.attribute(\"earnedAmount\"),\n  category: Model.hasOne(\"category\"),\n  backgroundColor: Model.attribute(\"backgroundColor\"),\n  iconColor: Model.attribute(\"iconColor\"),\n  labelColor: Model.attribute(\"labelColor\"),\n}) {\n  apiEndpoint() {\n    return \"/badges\" + (this.exists ? \"/\" + this.data.id : \"\");\n  }\n}\n","module.exports = flarum.core.compat['helpers/fullTime'];","import Model from \"flarum/Model\";\nimport mixin from \"flarum/utils/mixin\";\n\nexport default class BadgeCategory extends mixin(Model, {\n  name: Model.attribute(\"name\"),\n  order: Model.attribute(\"order\"),\n  description: Model.attribute(\"description\"),\n  isEnabled: Model.attribute(\"isEnabled\"),\n  createdAt: Model.attribute(\"createdAt\"),\n  isTable: Model.attribute(\"isTable\"),\n  users: Model.hasMany(\"users\"),\n  badges: Model.hasMany(\"badges\"),\n}) {\n  apiEndpoint() {\n    return \"/badge_categories\" + (this.exists ? \"/\" + this.data.id : \"\");\n  }\n}\n","module.exports = flarum.core.compat['common/components/Tooltip'];","module.exports = flarum.core.compat['components/UserPage'];","module.exports = flarum.core.compat['components/Page'];","module.exports = flarum.core.compat['common/helpers/listItems'];","module.exports = flarum.core.compat['components/Select'];","module.exports = flarum.core.compat['models/User'];","module.exports = flarum.core.compat['utils/UserControls'];","module.exports = flarum.core.compat['helpers/avatar'];","module.exports = flarum.core.compat['helpers/humanTime'];","module.exports = flarum.core.compat['common/states/PaginatedListState'];","module.exports = flarum.core.compat['forum/components/Notification'];","module.exports = flarum.core.compat['forum/components/NotificationGrid'];","import Model from \"flarum/Model\";\nimport mixin from \"flarum/utils/mixin\";\n\nexport default class UserBadge extends mixin(Model, {\n  user: Model.hasOne(\"user\"),\n  badge: Model.hasOne(\"badge\"),\n  description: Model.attribute(\"description\"),\n  isPrimary: Model.attribute(\"isPrimary\"),\n  assignedAt: Model.attribute(\"assignedAt\"),\n}) {\n  apiEndpoint() {\n    return \"/user_badges\" + (this.exists ? \"/\" + this.data.id : \"\");\n  }\n}\n","import Component from \"flarum/common/Component\";\nimport UserBadge from \"../../common/components/UserBadge\";\nimport BadgeModal from \"./BadgeModal\";\n\nexport default class UserBadgeList extends Component {\n  view() {\n    const categories = {};\n    const uncategorized = [];\n\n    this.attrs.user.userBadges().map((userBadge) => {\n      if (!userBadge) return null;\n\n      // Categorized\n      if (userBadge.badge().category()) {\n        const category = userBadge.badge().category();\n\n        if (!categories[category.id()]) {\n          categories[category.id()] = {\n            category,\n            badges: [userBadge],\n          };\n        } else {\n          categories[category.id()].badges.push(userBadge);\n        }\n      }\n      // Uncategorized\n      else {\n        uncategorized.push(userBadge);\n      }\n    });\n\n    return (\n      <div className=\"UserBadges\">\n        {Object.keys(categories).length === 0 && (\n          <div className={\"Placeholder\"}>\n            <p>\n              {app.translator.trans(\n                \"v17development-flarum-badges.forum.user_no_badges\"\n              )}\n            </p>\n          </div>\n        )}\n\n        {Object.keys(categories).length >= 1 &&\n          Object.keys(categories)\n            .sort(\n              (a, b) =>\n                categories[a].category.order() - categories[b].category.order()\n            )\n            .map((id) => {\n              const category = categories[id].category;\n              const badges = categories[id].badges;\n\n              if (!category.isEnabled()) return null;\n\n              return (\n                <div className={\"UserBadgesCategory\"}>\n                  <h3>{category.name()}</h3>\n\n                  {category.description() && <p>{category.description()}</p>}\n\n                  {badges\n                    .sort((a, b) => a.badge().order() - b.badge().order())\n                    .map((userBadge) => (\n                      <UserBadge\n                        badge={userBadge.badge()}\n                        onclick={() =>\n                          app.modal.show(BadgeModal, {\n                            badge: userBadge.badge(),\n                            userBadgeData: userBadge,\n                          })\n                        }\n                      />\n                    ))}\n                </div>\n              );\n            })}\n\n        {/* Uncategorized badges */}\n        {uncategorized.length >= 1 && (\n          <div className={\"UserBadgesCategory\"}>\n            <h3>\n              {app.translator.trans(\n                \"v17development-flarum-badges.forum.uncategorized\"\n              )}\n            </h3>\n\n            {uncategorized\n              .sort((a, b) => a.badge().order() - b.badge().order())\n              .map((userBadge) => (\n                <UserBadge\n                  badge={userBadge.badge()}\n                  onclick={() =>\n                    app.modal.show(BadgeModal, {\n                      badge: userBadge.badge(),\n                      userBadgeData: userBadge,\n                    })\n                  }\n                />\n              ))}\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n","import UserPage from \"flarum/components/UserPage\";\nimport LoadingIndicator from \"flarum/components/LoadingIndicator\";\nimport UserBadgeList from \"./UserBadgeList\";\n\nexport default class BadgesProfilePage extends UserPage {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.user = null;\n\n    this.loading = true;\n\n    this.loadUser(m.route.param(\"username\"));\n  }\n\n  content() {\n    if (!this.user || this.loading) {\n      return <LoadingIndicator size={46} />;\n    }\n\n    return UserBadgeList.component({\n      user: this.user,\n    });\n  }\n\n  show(user) {\n    super.show(user);\n    this.user = user;\n\n    app.store\n      .find(\"users\", user.id(), {\n        include: \"userBadges,userBadges.badge,userBadges.badge.category\",\n      })\n      .then(() => {\n        this.loading = false;\n        m.redraw();\n      });\n  }\n}\n","import Component from \"flarum/common/Component\";\nimport Link from \"flarum/components/Link\";\nimport UserBadge from \"../../../common/components/UserBadge\";\n\nexport default class TableView extends Component {\n  view() {\n    if (!this.attrs.badges) {\n      return null;\n    }\n\n    const badges = this.attrs.badges;\n\n    return (\n      <table width={\"100%\"} className={\"BadgeTable\"}>\n        <thead>\n          <tr>\n            <th scope=\"col\">\n              {app.translator.trans(\n                \"v17development-flarum-badges.forum.badge.badges\"\n              )}\n            </th>\n            <th scope=\"col\">\n              {app.translator.trans(\n                \"v17development-flarum-badges.forum.badge.description\"\n              )}\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          {badges.map((badge) => {\n            return (\n              <tr>\n                <td>\n                  <Link href={app.route(\"badges.item\", { id: badge.id() })}>\n                    <UserBadge badge={badge} tooltip={false} />\n                  </Link>\n                </td>\n                <td>\n                  {badge.description()}\n\n                  <div className={\"BadgeTableRewarded\"}>\n                    {app.translator.trans(\n                      \"v17development-flarum-badges.forum.badge.earned_count\",\n                      {\n                        count: badge.earnedAmount(),\n                      }\n                    )}\n                  </div>\n                </td>\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n    );\n  }\n}\n","import Component from \"flarum/common/Component\";\nimport Link from \"flarum/components/Link\";\nimport UserBadge from \"../../../common/components/UserBadge\";\n\nexport default class BlockListView extends Component {\n  view() {\n    if (!this.attrs.badges) {\n      return null;\n    }\n\n    const badges = this.attrs.badges;\n\n    return (\n      <ul className={\"BadgeCategoryList\"}>\n        {badges.map((badge) => {\n          return (\n            <li>\n              <Link\n                href={app.route(\"badges.item\", { id: badge.id() })}\n                className={\"BadgeContainer\"}\n              >\n                <div className={\"BadgeContainerInfo\"}>\n                  <UserBadge badge={badge} tooltip={false} />\n\n                  <p className={\"BadgeDescription\"}>{badge.description()}</p>\n\n                  <p>\n                    {app.translator.trans(\n                      \"v17development-flarum-badges.forum.badge.earned_count\",\n                      {\n                        count: badge.earnedAmount(),\n                      }\n                    )}\n                  </p>\n                </div>\n              </Link>\n            </li>\n          );\n        })}\n      </ul>\n    );\n  }\n}\n","import Page from \"flarum/components/Page\";\nimport IndexPage from \"flarum/components/IndexPage\";\nimport listItems from \"flarum/common/helpers/listItems\";\nimport LoadingIndicator from \"flarum/components/LoadingIndicator\";\nimport TableView from \"./BadgeCategoryList/TableView\";\nimport BlockListView from \"./BadgeCategoryList/BlockListView\";\n\nexport default class BadgesOverviewPage extends Page {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.bodyClass = \"App--index\";\n\n    this.loading = true;\n\n    app.history.push(\"badgeOverviewPage\");\n\n    app.setTitle(\n      app.translator.trans(\"v17development-flarum-badges.forum.badge.badges\")\n    );\n\n    // Load badge categories\n    app.store.find(\"badge_categories\").then(() => {\n      this.loading = false;\n\n      m.redraw();\n    });\n  }\n\n  view() {\n    const categories = app.store\n      .all(\"badgeCategories\")\n      .sort((a, b) => a.order() - b.order());\n\n    return (\n      <div className=\"IndexPage\">\n        {IndexPage.prototype.hero()}\n\n        <div className=\"container\">\n          <div className=\"sideNavContainer\">\n            <nav className=\"IndexPage-nav sideNav\">\n              <ul>{listItems(IndexPage.prototype.sidebarItems().toArray())}</ul>\n            </nav>\n            <div className=\"IndexPage-results sideNavOffset\">\n              <h2 className={\"BadgeOverviewTitle\"}>\n                {app.translator.trans(\n                  \"v17development-flarum-badges.forum.badge.badges\"\n                )}\n              </h2>\n\n              {this.loading && <LoadingIndicator size={\"large\"} />}\n\n              {!this.loading &&\n                categories.map((category) => {\n                  const badges = category\n                    .badges()\n                    .sort((a, b) => a.order() - b.order());\n\n                  return (\n                    <div className={\"BadgeCategory\"}>\n                      <h3>{category.name()}</h3>\n                      {category.description() && (\n                        <p>{category.description()}</p>\n                      )}\n\n                      {category.isTable() && <TableView badges={badges} />}\n\n                      {!category.isTable() && <BlockListView badges={badges} />}\n                    </div>\n                  );\n                })}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import Component from \"flarum/common/Component\";\nimport Button from \"flarum/components/Button\";\nimport Link from \"flarum/components/Link\";\nimport LoadingIndicator from \"flarum/components/LoadingIndicator\";\nimport avatar from \"flarum/helpers/avatar\";\nimport humanTime from \"flarum/helpers/humanTime\";\n\nexport default class BadgeUserList extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    // Load articles\n    this.attrs.state.refreshParams({\n      filter: {\n        badge: this.attrs.badgeId,\n      },\n      sort: \"-assignedAt\",\n    });\n  }\n\n  view() {\n    const state = this.attrs.state;\n\n    let loading = null;\n\n    if (state.isInitialLoading() || state.isLoadingNext()) {\n      loading = LoadingIndicator.component({\n        size: \"large\",\n      });\n    } else if (state.hasNext()) {\n      loading = Button.component(\n        {\n          className: \"Button\",\n          icon: \"fas fa-chevron-down\",\n          onclick: state.loadNext.bind(state),\n        },\n        app.translator.trans(\"core.forum.discussion_list.load_more_button\")\n      );\n    }\n\n    // No items\n    if (state.isInitialLoading() && state.isEmpty()) {\n      return <LoadingIndicator />;\n    }\n\n    // No items\n    if (state.isEmpty()) {\n      return (\n        <div className={\"BadgeUserList-empty\"}>\n          {app.translator.trans(\n            \"v17development-flarum-badges.forum.no_received\"\n          )}\n        </div>\n      );\n    }\n\n    return (\n      <div>\n        <ul className={\"BadgeUserList\"}>\n          {state.getPages().map((pg) => {\n            return pg.items.map((userBadge) => {\n              return (\n                <li>\n                  <Link\n                    href={app.route(\"user.badges\", {\n                      username: userBadge.user().username(),\n                    })}\n                    className={\"BadgeUserList-user\"}\n                  >\n                    {avatar(userBadge.user())}\n\n                    <div className={\"BadgeUserList-userinfo\"}>\n                      <h4>{userBadge.user().displayName()}</h4>\n\n                      <p>\n                        {app.translator.trans(\n                          \"v17development-flarum-badges.forum.badge.received_on\",\n                          {\n                            date: humanTime(userBadge.assignedAt()),\n                          }\n                        )}\n                      </p>\n                    </div>\n                  </Link>\n                </li>\n              );\n            });\n          })}\n        </ul>\n\n        {loading && <div className=\"SupportSearchList-loadMore\">{loading}</div>}\n      </div>\n    );\n  }\n}\n","import Page from \"flarum/components/Page\";\nimport IndexPage from \"flarum/components/IndexPage\";\nimport listItems from \"flarum/common/helpers/listItems\";\nimport LoadingIndicator from \"flarum/components/LoadingIndicator\";\nimport LinkButton from \"flarum/components/LinkButton\";\nimport BadgeUserList from \"./BadgeUserList\";\n\nexport default class BadgeItemPage extends Page {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.bodyClass = \"App--index\";\n\n    const found = app.store.getById(\"badges\", m.route.param(\"id\"));\n\n    this.loading = !found;\n\n    if (!found) {\n      // Load badge categories\n      app.store.find(`badges/${m.route.param(\"id\")}`).then((badge) => {\n        this.loading = false;\n\n        app.history.push(\"badgeItemPage\", badge.name());\n\n        this.setTitle(badge);\n\n        m.redraw();\n      });\n    } else {\n      app.history.push(\"badgeItemPage\", found.name());\n\n      this.setTitle(found);\n    }\n  }\n\n  setTitle(badge) {\n    app.setTitle(\n      `${badge.name()} - ${app.translator.trans(\n        \"v17development-flarum-badges.forum.badge.badges\"\n      )}`\n    );\n  }\n\n  view() {\n    const badge = app.store.getById(\"badges\", m.route.param(\"id\"));\n\n    return (\n      <div className=\"IndexPage\">\n        {IndexPage.prototype.hero()}\n\n        <div className=\"container\">\n          <div className=\"sideNavContainer\">\n            <nav className=\"IndexPage-nav sideNav\">\n              <ul>{listItems(IndexPage.prototype.sidebarItems().toArray())}</ul>\n            </nav>\n            <div className=\"IndexPage-results sideNavOffset\">\n              <LinkButton\n                href={app.route(\"badges\")}\n                icon={\"fas fa-chevron-left\"}\n                className={\"Button BadgesOverviewButton\"}\n              >\n                {app.translator.trans(\n                  \"v17development-flarum-badges.forum.badge.badges\"\n                )}\n              </LinkButton>\n\n              {this.loading && <LoadingIndicator size={\"large\"} />}\n\n              {!this.loading && (\n                <div className={\"BadgeUserListInfo\"}>\n                  <i className={badge.icon()} />\n\n                  <div className={\"BadgeUserListInfo-meta\"}>\n                    <h3>{badge.name()}</h3>\n                    <p>{badge.description()}</p>\n                  </div>\n                </div>\n              )}\n\n              {badge && (\n                <h3>\n                  {app.translator.trans(\n                    \"v17development-flarum-badges.forum.badge.earned_by_count\",\n                    {\n                      count: badge.earnedAmount(),\n                    }\n                  )}\n                </h3>\n              )}\n\n              {!this.loading &&\n                app.forum.attribute(\"canViewDetailedBadgeUsers\") && (\n                  <BadgeUserList\n                    state={app.userBadgeListState}\n                    badgeId={badge.id()}\n                  />\n                )}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import { extend } from \"flarum/extend\";\nimport IndexPage from \"flarum/components/IndexPage\";\nimport LinkButton from \"flarum/components/LinkButton\";\n\nexport default function addSidebarNav() {\n  extend(IndexPage.prototype, \"navItems\", function (items) {\n    items.add(\n      \"badges\",\n      <LinkButton icon=\"fas fa-id-badge\" href={app.route(\"badges\")}>\n        {app.translator.trans(\n          \"v17development-flarum-badges.forum.badge.badges\"\n        )}\n      </LinkButton>,\n      15\n    );\n\n    return items;\n  });\n}\n","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","import PaginatedListState from \"flarum/common/states/PaginatedListState\";\n\nexport default class UserBadgeListState extends PaginatedListState {\n  constructor(params, page = 1) {\n    super(params, page, 18);\n  }\n\n  get type() {\n    return \"user_badges\";\n  }\n}\n","import Notification from \"flarum/forum/components/Notification\";\n\nexport default class BadgeReceivedNotification extends Notification {\n  icon() {\n    return \"\";\n  }\n\n  href() {\n    return app.route(\"user.badges\", {\n      username: app.session.user.username(),\n    });\n  }\n\n  content() {\n    return app.translator.trans(\n      \"v17development-flarum-badges.forum.notification.title\"\n    );\n  }\n\n  excerpt() {\n    const subject = this.attrs.notification.subject();\n\n    return (\n      <div>\n        <i className={`icon ${subject.badge().icon()}`} />\n\n        {subject.badge().name()}\n      </div>\n    );\n  }\n}\n","import { extend } from \"flarum/extend\";\nimport Model from \"flarum/Model\";\nimport User from \"flarum/models/User\";\nimport UserPage from \"flarum/components/UserPage\";\nimport UserControls from \"flarum/utils/UserControls\";\nimport LinkButton from \"flarum/components/LinkButton\";\nimport Button from \"flarum/components/Button\";\nimport Badge from \"../common/models/Badge\";\nimport BadgeCategory from \"../common/models/BadgeCategory\";\nimport UserBadge from \"../common/models/UserBadge\";\nimport BadgesProfilePage from \"./components/BadgesProfilePage\";\nimport BadgesOverviewPage from \"./components/BadgesOverviewPage\";\nimport BadgeItemPage from \"./components/BadgeItemPage\";\nimport GiveBadgeModal from \"./components/GiveBadgeModal\";\nimport addSidebarNav from \"./addSidebarNav\";\nimport UserBadgeListState from \"./states/UserBadgeListState\";\nimport BadgeReceivedNotification from \"./notification/BadgeReceivedNotification\";\nimport NotificationGrid from \"flarum/forum/components/NotificationGrid\";\n\napp.initializers.add(\"v17development-flarum-badges\", (app) => {\n  app.store.models.badges = Badge;\n  app.store.models.badgeCategories = BadgeCategory;\n  app.store.models.userBadges = UserBadge;\n\n  User.prototype.userBadges = Model.hasMany(\"userBadges\");\n  User.prototype.userPrimaryBadge = Model.hasOne(\"userPrimaryBadge\");\n\n  // Add user badges to the user profile\n  app.routes[\"user.badges\"] = {\n    path: \"/u/:username/badges\",\n    component: BadgesProfilePage,\n  };\n\n  // Badges overview page\n  app.routes.badges = {\n    path: \"/badges\",\n    component: BadgesOverviewPage,\n  };\n\n  // Future\n  // // Badges overview page\n  // app.routes[\"badges.category\"] = {\n  //   path: \"/badges/category/:id\",\n  //   component: BadgesOverviewPage,\n  // };\n\n  // Badge item page\n  app.routes[\"badges.item\"] = {\n    path: \"/badges/:id\",\n    component: BadgeItemPage,\n  };\n\n  addSidebarNav();\n\n  app.userBadgeListState = new UserBadgeListState({});\n\n  // Badge received notification\n  app.notificationComponents.badgeReceived = BadgeReceivedNotification;\n\n  // Enable badge notifications?\n  extend(NotificationGrid.prototype, \"notificationTypes\", function (items) {\n    items.add(\"badgeReceived\", {\n      name: \"badgeReceived\",\n      icon: \"fas fa-user-tag\",\n      label: app.translator.trans(\n        \"v17development-flarum-badges.forum.notification.settings\"\n      ),\n    });\n  });\n\n  // Add uploads to user page menu items\n  extend(UserPage.prototype, \"navItems\", function (items) {\n    items.add(\n      \"badges\",\n      LinkButton.component(\n        {\n          href: app.route(\"user.badges\", {\n            username: this.user.username(),\n          }),\n          name: \"badges\",\n          icon: \"fas fa-user-tag\",\n        },\n        [\n          app.translator.trans(\n            \"v17development-flarum-badges.forum.badge.badges\"\n          ),\n          <span className=\"Button-badge\">{this.user.userBadges().length}</span>,\n        ]\n      ),\n      90\n    );\n  });\n\n  extend(UserControls, \"moderationControls\", function (items, user) {\n    // User can give badges\n    if (app.forum.attribute(\"canGiveBadge\")) {\n      items.add(\n        \"test\",\n        <Button\n          icon=\"fas fa-user-tag\"\n          onclick={() =>\n            app.modal.show(GiveBadgeModal, {\n              user: user,\n            })\n          }\n        >\n          {app.translator.trans(\n            \"v17development-flarum-badges.forum.give_badge\"\n          )}\n        </Button>\n      );\n    }\n  });\n});\n"],"sourceRoot":""}